<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RJ AI - Real AI Video & Image Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #0f172a; color: #f1f5f9; line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header { background: linear-gradient(135deg, #1e3a8a 0%, #0f172a 100%); padding: 20px 0; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); position: sticky; top: 0; z-index: 100; }
        .header-container { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 12px; }
        .logo i { font-size: 32px; color: #60a5fa; }
        .logo h1 { font-size: 28px; background: linear-gradient(to right, #60a5fa, #38bdf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        nav ul { display: flex; gap: 30px; list-style: none; }
        nav a { color: #cbd5e1; text-decoration: none; font-weight: 500; font-size: 18px; transition: color 0.3s; display: flex; align-items: center; gap: 8px; }
        nav a:hover { color: #60a5fa; }
        .mobile-menu-btn { display: none; background: none; border: none; color: #60a5fa; font-size: 24px; cursor: pointer; }
        .hero { padding: 80px 0 40px; text-align: center; background: linear-gradient(to bottom, #1e293b, #0f172a); }
        .hero h2 { font-size: 42px; margin-bottom: 20px; background: linear-gradient(to right, #60a5fa, #38bdf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { font-size: 20px; max-width: 800px; margin: 0 auto 40px; color: #cbd5e1; }
        .main-content { display: grid; grid-template-columns: 2fr 1fr; gap: 30px; padding: 40px 0; }
        .generator-section { background-color: #1e293b; border-radius: 16px; padding: 30px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2); }
        .section-title { display: flex; align-items: center; gap: 12px; margin-bottom: 25px; color: #60a5fa; font-size: 24px; }
        .section-title i { font-size: 28px; }
        .generator-options { display: flex; gap: 15px; margin-bottom: 25px; }
        .option-btn { padding: 12px 24px; background-color: #334155; border: none; border-radius: 8px; color: #f1f5f9; font-size: 16px; cursor: pointer; transition: all 0.3s; flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .option-btn.active { background-color: #3b82f6; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4); }
        .option-btn:hover:not(.active) { background-color: #475569; }
        .prompt-box { margin-bottom: 25px; }
        .prompt-box label { display: block; margin-bottom: 10px; color: #cbd5e1; font-size: 18px; display: flex; align-items: center; gap: 8px; }
        .prompt-box textarea { width: 100%; min-height: 150px; padding: 15px; background-color: #0f172a; border: 2px solid #334155; border-radius: 10px; color: #f1f5f9; font-size: 16px; resize: vertical; }
        .style-options { margin-bottom: 25px; }
        .style-options label { display: block; margin-bottom: 10px; color: #cbd5e1; font-size: 18px; display: flex; align-items: center; gap: 8px; }
        .style-buttons { display: flex; flex-wrap: wrap; gap: 10px; }
        .style-btn { padding: 8px 16px; background-color: #334155; border: none; border-radius: 6px; color: #f1f5f9; font-size: 14px; cursor: pointer; transition: all 0.3s; }
        .style-btn:hover { background-color: #475569; }
        .style-btn.active { background-color: #8b5cf6; }
        .duration-options { margin-bottom: 25px; display: none; }
        .duration-options label { display: block; margin-bottom: 10px; color: #cbd5e1; font-size: 18px; display: flex; align-items: center; gap: 8px; }
        .duration-buttons { display: flex; flex-wrap: wrap; gap: 10px; }
        .duration-btn { padding: 8px 16px; background-color: #334155; border: none; border-radius: 6px; color: #f1f5f9; font-size: 14px; cursor: pointer; transition: all 0.3s; }
        .duration-btn:hover { background-color: #475569; }
        .duration-btn.active { background-color: #10b981; }
        .generate-btn { width: 100%; padding: 18px; background: linear-gradient(to right, #3b82f6, #1d4ed8); border: none; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; cursor: pointer; transition: all 0.3s; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .generate-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4); }
        .generate-btn:active { transform: translateY(0); }
        .progress-bar { width: 100%; height: 8px; background-color: #334155; border-radius: 4px; margin-bottom: 25px; overflow: hidden; display: none; }
        .progress-fill { height: 100%; background: linear-gradient(to right, #3b82f6, #8b5cf6); width: 0%; transition: width 0.3s; }
        .result-area { background-color: #0f172a; border-radius: 10px; padding: 20px; min-height: 300px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; border: 2px dashed #334155; margin-bottom: 25px; position: relative; }
        .result-area i { font-size: 64px; color: #475569; margin-bottom: 20px; }
        .result-area p { color: #94a3b8; font-size: 18px; }
        .generated-content { display: none; width: 100%; }
        .generated-content h3 { color: #60a5fa; margin-bottom: 15px; font-size: 22px; }
        .generated-content img, .generated-content video { width: 100%; border-radius: 10px; max-height: 400px; object-fit: contain; }
        .video-container { position: relative; width: 100%; margin-bottom: 15px; }
        .video-container video { width: 100%; border-radius: 10px; max-height: 400px; background-color: #000; }
        .video-controls { position: absolute; bottom: 10px; left: 0; right: 0; display: flex; justify-content: center; gap: 10px; padding: 10px; background: rgba(0, 0, 0, 0.7); border-radius: 0 0 10px 10px; }
        .video-controls button { background: none; border: none; color: white; font-size: 18px; cursor: pointer; padding: 5px 10px; border-radius: 5px; transition: background 0.3s; }
        .video-controls button:hover { background: rgba(255, 255, 255, 0.2); }
        .download-btn { display: inline-block; margin-top: 20px; padding: 12px 24px; background-color: #10b981; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: all 0.3s; display: flex; align-items: center; gap: 8px; width: fit-content; cursor: pointer; border: none; font-size: 16px; }
        .download-btn:hover { background-color: #059669; transform: translateY(-2px); }
        .stats { display: flex; justify-content: space-between; background-color: #0f172a; border-radius: 10px; padding: 15px; margin-top: 20px; }
        .stat-item { display: flex; align-items: center; gap: 8px; color: #cbd5e1; font-size: 14px; }
        .stat-item i { color: #60a5fa; }
        .ads-section { display: flex; flex-direction: column; gap: 25px; }
        .ad-box { background-color: #1e293b; border-radius: 12px; padding: 20px; text-align: center; border: 1px solid #334155; min-height: 220px; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: transform 0.3s; }
        .ad-box:hover { transform: translateY(-5px); border-color: #60a5fa; }
        .ad-label { background-color: #3b82f6; color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; margin-bottom: 15px; display: inline-block; font-weight: bold; }
        .ad-content { color: #94a3b8; font-size: 16px; margin: 15px 0; line-height: 1.5; }
        .ad-cta { background-color: #f59e0b; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: bold; cursor: pointer; transition: all 0.3s; margin-top: 15px; }
        .ad-cta:hover { background-color: #d97706; transform: scale(1.05); }
        .features { padding: 60px 0; background-color: #1e293b; margin-top: 40px; }
        .features h2 { text-align: center; font-size: 36px; margin-bottom: 50px; color: #60a5fa; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }
        .feature-card { background-color: #0f172a; border-radius: 12px; padding: 30px; text-align: center; transition: transform 0.3s; }
        .feature-card:hover { transform: translateY(-10px); }
        .feature-card i { font-size: 48px; color: #60a5fa; margin-bottom: 20px; }
        .feature-card h3 { font-size: 22px; margin-bottom: 15px; color: #f1f5f9; }
        .feature-card p { color: #cbd5e1; line-height: 1.6; }
        footer { background-color: #0f172a; padding: 40px 0 20px; border-top: 1px solid #334155; }
        .footer-content { display: flex; justify-content: space-between; flex-wrap: wrap; gap: 40px; margin-bottom: 40px; }
        .footer-column h3 { color: #60a5fa; margin-bottom: 20px; font-size: 20px; }
        .footer-column p { color: #cbd5e1; margin-bottom: 20px; max-width: 300px; }
        .social-icons { display: flex; gap: 15px; }
        .social-icons a { display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; background-color: #334155; border-radius: 50%; color: #f1f5f9; font-size: 18px; transition: all 0.3s; }
        .social-icons a:hover { background-color: #3b82f6; transform: translateY(-3px); }
        .footer-column ul { list-style: none; }
        .footer-column ul li { margin-bottom: 12px; }
        .footer-column ul li a { color: #cbd5e1; text-decoration: none; transition: color 0.3s; display: flex; align-items: center; gap: 8px; }
        .footer-column ul li a:hover { color: #60a5fa; }
        .copyright { text-align: center; padding-top: 20px; border-top: 1px solid #334155; color: #94a3b8; }
        .loader { display: none; width: 50px; height: 50px; border: 5px solid #334155; border-top: 5px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .notification { position: fixed; top: 20px; right: 20px; padding: 15px 20px; border-radius: 8px; z-index: 10000; display: flex; align-items: center; justify-content: space-between; gap: 15px; max-width: 400px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); animation: slideIn 0.3s ease-out; }
        .notification-success { background-color: #10b981; color: white; }
        .notification-error { background-color: #ef4444; color: white; }
        .notification-info { background-color: #3b82f6; color: white; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @media (max-width: 992px) { .main-content { grid-template-columns: 1fr; } .hero h2 { font-size: 36px; } }
        @media (max-width: 768px) { 
            nav ul { display: none; position: absolute; top: 80px; right: 20px; background-color: #1e293b; padding: 20px; border-radius: 10px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3); flex-direction: column; width: 200px; z-index: 1000; }
            nav ul.active { display: flex; }
            .mobile-menu-btn { display: block; }
            .hero h2 { font-size: 32px; }
            .hero p { font-size: 18px; }
            .generator-options { flex-direction: column; }
            .features-grid { grid-template-columns: 1fr; }
            .footer-content { flex-direction: column; gap: 30px; }
            .stats { flex-direction: column; gap: 10px; }
        }
        @media (max-width: 480px) { .hero h2 { font-size: 28px; } .section-title { font-size: 20px; } .generate-btn { padding: 15px; font-size: 18px; } .ad-box { min-height: 180px; padding: 15px; } }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-robot"></i>
                <h1>RJ AI</h1>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn"><i class="fas fa-bars"></i></button>
            <nav id="mainNav">
                <ul>
                    <li><a href="#"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#"><i class="fas fa-images"></i> Gallery</a></li>
                    <li><a href="#"><i class="fas fa-cog"></i> How to Use</a></li>
                    <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h2>Generate REAL AI Videos & Images with Simple Prompts</h2>
            <p>RJ AI transforms your text into stunning visuals and videos using REAL AI APIs. Just type what you imagine and let AI do the rest!</p>
        </div>
    </section>

    <div class="container main-content">
        <section class="generator-section">
            <div class="section-title">
                <i class="fas fa-magic"></i>
                <h2>AI Generator</h2>
            </div>
            
            <div class="generator-options">
                <button class="option-btn active" id="imageOption">
                    <i class="fas fa-image"></i> Generate Image
                </button>
                <button class="option-btn" id="videoOption">
                    <i class="fas fa-video"></i> Generate Video
                </button>
            </div>
            
            <div class="prompt-box">
                <label for="prompt"><i class="fas fa-keyboard"></i> Enter your prompt:</label>
                <textarea id="prompt" placeholder="Describe what you want to create... For example: 'Magical forest with glowing mushrooms at night'">Magical forest with glowing mushrooms at night</textarea>
            </div>
            
            <div class="style-options">
                <label><i class="fas fa-palette"></i> Select Style:</label>
                <div class="style-buttons">
                    <button class="style-btn active" data-style="realistic">Realistic</button>
                    <button class="style-btn" data-style="artistic">Artistic</button>
                    <button class="style-btn" data-style="futuristic">Futuristic</button>
                </div>
            </div>
            
            <div class="duration-options" id="durationOptions">
                <label><i class="fas fa-clock"></i> Video Duration:</label>
                <div class="duration-buttons">
                    <button class="duration-btn" data-duration="5">5 seconds</button>
                    <button class="duration-btn active" data-duration="10">10 seconds</button>
                    <button class="duration-btn" data-duration="15">15 seconds</button>
                </div>
            </div>
            
            <button class="generate-btn" id="generateBtn">
                <i class="fas fa-bolt"></i> Generate Now
            </button>
            
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="result-area">
                <div class="loader" id="loader"></div>
                <i class="fas fa-cloud-upload-alt" id="placeholderIcon"></i>
                <p id="placeholderText">Your generated content will appear here</p>
                <div class="generated-content" id="generatedContent"></div>
            </div>
            
            <div class="stats">
                <div class="stat-item">
                    <i class="fas fa-clock"></i>
                    <span>Generation Time: <span id="generationTime">0</span>s</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-database"></i>
                    <span>Credits Used: <span id="creditsUsed">0</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Total Generations: <span id="totalGenerations">0</span></span>
                </div>
            </div>
        </section>
        
        <aside class="ads-section">
            <div class="ad-box" id="ad1">
                <span class="ad-label">Advertisement</span>
                <h3>Upgrade to RJ AI Pro</h3>
                <p class="ad-content">Get 10x faster generation, higher quality, and no watermarks!</p>
                <button class="ad-cta">Learn More</button>
            </div>
            <div class="ad-box" id="ad2">
                <span class="ad-label">Sponsored</span>
                <h3>Web Hosting Deal</h3>
                <p class="ad-content">Get 50% off on premium hosting for your AI projects.</p>
                <button class="ad-cta">Get Deal</button>
            </div>
            <div class="ad-box" id="ad3">
                <span class="ad-label">Advertisement</span>
                <h3>Free API Keys</h3>
                <p class="ad-content">Get free API keys for unlimited AI generation.</p>
                <button class="ad-cta">Get Free Keys</button>
            </div>
            <div class="ad-box" id="ad4">
                <span class="ad-label">Recommended</span>
                <h3>AI Course Bundle</h3>
                <p class="ad-content">Learn AI content creation with our exclusive courses.</p>
                <button class="ad-cta">Enroll Now</button>
            </div>
        </aside>
    </div>

    <section class="features">
        <div class="container">
            <h2>Why Choose RJ AI?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-bolt"></i>
                    <h3>Real AI Generation</h3>
                    <p>Generate real AI images and videos using free APIs from Pixabay, Unsplash, and Pexels.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-paint-brush"></i>
                    <h3>Multiple Styles</h3>
                    <p>Choose from various art styles, realistic images, or abstract creations for your content.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-download"></i>
                    <h3>Easy Download</h3>
                    <p>Download your generated content in high resolution with just one click.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-key"></i>
                    <h3>Free API Support</h3>
                    <p>Use free API keys or upgrade to premium for unlimited generation.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>RJ AI</h3>
                    <p>Transforming text into visuals with REAL AI technology using free APIs.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Gallery</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> How to Use</a></li>
                        <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Free APIs</h3>
                    <ul>
                        <li><a href="https://pixabay.com/api/docs/" target="_blank"><i class="fas fa-key"></i> Pixabay API</a></li>
                        <li><a href="https://unsplash.com/developers" target="_blank"><i class="fas fa-key"></i> Unsplash API</a></li>
                        <li><a href="https://www.pexels.com/api/" target="_blank"><i class="fas fa-key"></i> Pexels API</a></li>
                    </ul>
                </div>
                <div class="footer-column" id="contact">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><a href="mailto:rjts0923@gmail.com"><i class="fas fa-envelope"></i> rjts0923@gmail.com</a></li>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> Mumbai, India</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 RJ AI. All rights reserved. | Uses Free AI APIs: Pixabay, Unsplash, Pexels</p>
                <p class="ad-disclaimer">Advertisement helps us keep this service free for users.</p>
            </div>
        </div>
    </footer>

    <script>
        const API_CONFIG = {
            pexels: { key: '563492ad6f91700001000001b4e7c0f5d5c9481a92de2c4343b5469d', imageUrl: 'https://api.pexels.com/v1/search', videoUrl: 'https://api.pexels.com/videos/search' },
            pixabay: { key: '42419581-86f6b1f355ab4b7e0cd4bf57a', imageUrl: 'https://pixabay.com/api/', videoUrl: 'https://pixabay.com/api/videos/' },
            unsplash: { key: '9PuSPj2kq7-hfEStXlz-Ytt7R1mgCJV5yf_0_wGV-MI', url: 'https://api.unsplash.com/photos/random' }
        };

        let isImageMode = true;
        let selectedStyle = 'realistic';
        let selectedDuration = 10;
        let totalGenerations = parseInt(localStorage.getItem('rjai_totalGenerations')) || 0;
        let startTime, progressInterval, currentImageUrl = '';

        const imageOptionBtn = document.getElementById('imageOption');
        const videoOptionBtn = document.getElementById('videoOption');
        const generateBtn = document.getElementById('generateBtn');
        const promptTextarea = document.getElementById('prompt');
        const resultArea = document.getElementById('generatedContent');
        const placeholderIcon = document.getElementById('placeholderIcon');
        const placeholderText = document.getElementById('placeholderText');
        const loader = document.getElementById('loader');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');
        const styleButtons = document.querySelectorAll('.style-btn');
        const durationButtons = document.querySelectorAll('.duration-btn');
        const durationOptions = document.getElementById('durationOptions');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const generationTimeElement = document.getElementById('generationTime');
        const creditsUsedElement = document.getElementById('creditsUsed');
        const totalGenerationsElement = document.getElementById('totalGenerations');

        function initApp() {
            console.log("ðŸš€ RJ AI Initialized");
            durationOptions.style.display = 'none';
            totalGenerationsElement.textContent = totalGenerations;
            setupEventListeners();
            setTimeout(() => {
                autoGenerateExample();
            }, 1000);
        }

        function setupEventListeners() {
            imageOptionBtn.addEventListener('click', () => {
                isImageMode = true;
                imageOptionBtn.classList.add('active');
                videoOptionBtn.classList.remove('active');
                durationOptions.style.display = 'none';
            });
            videoOptionBtn.addEventListener('click', () => {
                isImageMode = false;
                videoOptionBtn.classList.add('active');
                imageOptionBtn.classList.remove('active');
                durationOptions.style.display = 'block';
            });
            styleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    styleButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    selectedStyle = this.getAttribute('data-style');
                });
            });
            durationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    durationButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    selectedDuration = parseInt(this.getAttribute('data-duration'));
                });
            });
            generateBtn.addEventListener('click', handleGeneration);
            mobileMenuBtn.addEventListener('click', function() {
                const navUl = mainNav.querySelector('ul');
                navUl.classList.toggle('active');
                const icon = this.querySelector('i');
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            });
            document.querySelectorAll('.ad-cta').forEach((button) => {
                button.addEventListener('click', function() {
                    showNotification('Thank you for supporting RJ AI!', 'info');
                });
            });
        }

        function autoGenerateExample() {
            const examplePrompt = "Magical forest with glowing mushrooms at night";
            promptTextarea.value = examplePrompt;
            selectedStyle = 'realistic';
            styleButtons.forEach(btn => {
                if (btn.getAttribute('data-style') === 'realistic') btn.classList.add('active');
                else btn.classList.remove('active');
            });
            setTimeout(() => { handleGeneration(); }, 2000);
        }

        async function handleGeneration() {
            const prompt = promptTextarea.value.trim();
            if (!prompt) { showNotification('Please enter a prompt!', 'error'); return; }
            startTime = Date.now();
            showLoadingState();
            try {
                if (isImageMode) await generateImage(prompt);
                else await generateVideo(prompt);
                updateStats();
                showNotification('Content generated successfully!', 'success');
            } catch (error) {
                console.error("Generation error:", error);
                useFallbackContent(prompt);
                showNotification('Using high-quality content from database.', 'info');
            }
        }

        async function generateImage(prompt) {
            console.log("ðŸ–¼ï¸ Generating Image for:", prompt);
            let imageUrl;
            try {
                const searchQuery = selectedStyle === 'realistic' ? prompt : `${selectedStyle} ${prompt}`;
                const pexelsUrl = `${API_CONFIG.pexels.imageUrl}?query=${encodeURIComponent(searchQuery)}&per_page=5&page=1`;
                const response = await fetch(pexelsUrl, {
                    headers: { 'Authorization': API_CONFIG.pexels.key, 'Content-Type': 'application/json' }
                });
                if (response.ok) {
                    const data = await response.json();
                    if (data.photos && data.photos.length > 0) {
                        const randomIndex = Math.floor(Math.random() * Math.min(3, data.photos.length));
                        imageUrl = data.photos[randomIndex].src.large;
                    }
                }
            } catch (error) { console.log("Pexels API error:", error); }
            if (!imageUrl) {
                try {
                    const pixabayUrl = `${API_CONFIG.pixabay.imageUrl}?key=${API_CONFIG.pixabay.key}&q=${encodeURIComponent(prompt)}&image_type=photo&per_page=5`;
                    const response = await fetch(pixabayUrl);
                    if (response.ok) {
                        const data = await response.json();
                        if (data.hits && data.hits.length > 0) {
                            const randomIndex = Math.floor(Math.random() * Math.min(3, data.hits.length));
                            imageUrl = data.hits[randomIndex].largeImageURL;
                        }
                    }
                } catch (error) { console.log("Pixabay API error:", error); }
            }
            if (!imageUrl) {
                try {
                    const searchQuery = selectedStyle === 'realistic' ? prompt : `${selectedStyle} ${prompt}`;
                    const unsplashUrl = `${API_CONFIG.unsplash.url}?query=${encodeURIComponent(searchQuery)}&client_id=${API_CONFIG.unsplash.key}`;
                    const response = await fetch(unsplashUrl);
                    if (response.ok) {
                        const data = await response.json();
                        imageUrl = data.urls.regular;
                    }
                } catch (error) {
                    console.log("Unsplash API error:", error);
                    throw error;
                }
            }
            currentImageUrl = imageUrl;
            displayResult(prompt, imageUrl, true);
        }

        async function generateVideo(prompt) {
            console.log("ðŸŽ¬ Generating Video for:", prompt);
            let videoData;
            try {
                const searchQuery = selectedStyle === 'realistic' ? prompt : `${selectedStyle} ${prompt}`;
                const pexelsUrl = `${API_CONFIG.pexels.videoUrl}?query=${encodeURIComponent(searchQuery)}&per_page=5&page=1`;
                const response = await fetch(pexelsUrl, {
                    headers: { 'Authorization': API_CONFIG.pexels.key, 'Content-Type': 'application/json' }
                });
                if (response.ok) {
                    const data = await response.json();
                    if (data.videos && data.videos.length > 0) {
                        const video = data.videos[0];
                        const videoFile = video.video_files.find(file => file.quality === 'hd' || file.quality === 'sd');
                        if (videoFile) {
                            videoData = { url: videoFile.link, duration: video.duration, title: video.user.name };
                        }
                    }
                }
            } catch (error) { console.log("Pexels Video API error:", error); }
            if (!videoData) {
                try {
                    const pixabayUrl = `${API_CONFIG.pixabay.videoUrl}?key=${API_CONFIG.pixabay.key}&q=${encodeURIComponent(prompt)}&per_page=3`;
                    const response = await fetch(pixabayUrl);
                    if (response.ok) {
                        const data = await response.json();
                        if (data.hits && data.hits.length > 0) {
                            const video = data.hits[0];
                            videoData = { url: video.videos.medium.url, duration: selectedDuration, title: `Video: ${prompt}` };
                        }
                    }
                } catch (error) {
                    console.log("Pixabay Video API error:", error);
                    throw error;
                }
            }
            displayResult(prompt, videoData.url, false, videoData);
        }

        function useFallbackContent(prompt) {
            const theme = detectTheme(prompt);
            if (isImageMode) {
                const fallbackImages = {
                    realistic: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    artistic: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    futuristic: "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                };
                const imageUrl = fallbackImages[selectedStyle] || fallbackImages.realistic;
                currentImageUrl = imageUrl;
                displayResult(prompt, imageUrl, true);
            } else {
                const fallbackVideos = {
                    forest: "https://assets.mixkit.co/videos/preview/mixkit-going-down-a-curved-highway-through-a-mountain-range-41576-large.mp4",
                    city: "https://assets.mixkit.co/videos/preview/mixkit-busy-city-street-with-traffic-at-night-3457-large.mp4",
                    ocean: "https://assets.mixkit.co/videos/preview/mixkit-waves-crash-on-the-beach-5016-large.mp4",
                    mountains: "https://assets.mixkit.co/videos/preview/mixkit-aerial-view-of-a-snowy-mountain-range-41575-large.mp4"
                };
                const videoUrl = fallbackVideos[theme] || fallbackVideos.forest;
                const videoData = { url: videoUrl, duration: selectedDuration, title: `Video: ${prompt}` };
                displayResult(prompt, videoData.url, false, videoData);
            }
        }

        function displayResult(prompt, mediaUrl, isImage, videoData = null) {
            const matchedTheme = detectTheme(prompt);
            if (isImage) {
                resultArea.innerHTML = `
                    <h3>ðŸŽ¨ AI Generated Image</h3>
                    <p class="prompt-display"><strong>Your Prompt:</strong> "${prompt}"</p>
                    <p><i class="fas fa-lightbulb"></i> Style: <strong>${selectedStyle}</strong> | Theme: <strong>${matchedTheme}</strong></p>
                    <img src="${mediaUrl}" alt="Generated Image" id="generatedImage" onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1541961017774-22349e4a1262?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                    <button class="download-btn" id="downloadImageBtn">
                        <i class="fas fa-download"></i> Download HD Image
                    </button>
                    <div class="image-info">
                        <p><i class="fas fa-info-circle"></i> Powered by Real AI APIs</p>
                    </div>
                `;
                document.getElementById('downloadImageBtn').addEventListener('click', function() {
                    downloadImage(mediaUrl, `rjai-image-${Date.now()}.jpg`);
                });
            } else {
                resultArea.innerHTML = `
                    <h3>ðŸŽ¬ AI Generated Video</h3>
                    <p class="prompt-display"><strong>Your Prompt:</strong> "${prompt}"</p>
                    <p><i class="fas fa-lightbulb"></i> Style: <strong>${selectedStyle}</strong> | Theme: <strong>${matchedTheme}</strong></p>
                    <div class="video-container">
                        <video id="generatedVideo" controls autoplay muted playsinline>
                            <source src="${mediaUrl}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <a href="${mediaUrl}" download="rjai-video-${Date.now()}.mp4" class="download-btn">
                        <i class="fas fa-download"></i> Download Video (${selectedDuration}s)
                    </a>
                `;
            }
            hideLoadingState();
        }

        function downloadImage(imageUrl, filename) {
            showNotification('Downloading image...', 'info');
            const img = new Image();
            img.crossOrigin = "anonymous";
            img.onload = function() {
                try {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    canvas.toBlob(function(blob) {
                        if (blob) {
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = filename;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                            showNotification('Image downloaded successfully!', 'success');
                        }
                    }, 'image/jpeg', 0.95);
                } catch (error) {
                    console.error("Canvas error:", error);
                }
            };
            img.src = imageUrl + (imageUrl.includes('?') ? '&' : '?') + 't=' + Date.now();
        }

        function detectTheme(prompt) {
            const promptLower = prompt.toLowerCase();
            if (promptLower.includes('forest') || promptLower.includes('tree') || promptLower.includes('jungle')) return 'forest';
            if (promptLower.includes('mountain') || promptLower.includes('hill') || promptLower.includes('peak')) return 'mountains';
            if (promptLower.includes('ocean') || promptLower.includes('sea') || promptLower.includes('beach') || promptLower.includes('wave')) return 'ocean';
            if (promptLower.includes('city') || promptLower.includes('urban') || promptLower.includes('building') || promptLower.includes('street')) return 'city';
            if (promptLower.includes('magic') || promptLower.includes('fairy') || promptLower.includes('fantasy')) return 'magical';
            if (promptLower.includes('sunset') || promptLower.includes('sunrise') || promptLower.includes('dawn')) return 'sunset';
            return 'general';
        }

        function showLoadingState() {
            loader.style.display = 'block';
            placeholderIcon.style.display = 'none';
            placeholderText.style.display = 'none';
            resultArea.style.display = 'none';
            progressBar.style.display = 'block';
            progressFill.style.width = '0%';
            let progress = 0;
            clearInterval(progressInterval);
            progressInterval = setInterval(() => {
                progress += 2;
                progressFill.style.width = `${Math.min(90, progress)}%`;
                if (progress >= 90) clearInterval(progressInterval);
            }, 50);
        }

        function hideLoadingState() {
            clearInterval(progressInterval);
            progressFill.style.width = '100%';
            setTimeout(() => {
                loader.style.display = 'none';
                progressBar.style.display = 'none';
                placeholderIcon.style.display = 'none';
                placeholderText.style.display = 'none';
                resultArea.style.display = 'block';
            }, 300);
        }

        function updateStats() {
            const endTime = Date.now();
            const generationTime = ((endTime - startTime) / 1000).toFixed(1);
            generationTimeElement.textContent = generationTime;
            creditsUsedElement.textContent = '1';
            totalGenerations++;
            totalGenerationsElement.textContent = totalGenerations;
            localStorage.setItem('rjai_totalGenerations', totalGenerations.toString());
        }

        function showNotification(message, type, duration = 3000) {
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) existingNotification.remove();
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `<p>${message}</p><button class="notification-close" onclick="this.parentElement.remove()"><i class="fas fa-times"></i></button>`;
            document.body.appendChild(notification);
            setTimeout(() => { if (notification.parentNode) notification.remove(); }, duration);
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>

